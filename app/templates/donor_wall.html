{% extends "base.html" %}
{% block title %}Donor Wall{% endblock %}
{% block content %}
<div class="container" data-aos="fade-up">
    <div class="text-center" style="margin-bottom: 2rem;">
        <h2>Our Heroes</h2>
        <p class="subtitle">Thank you to everyone helping us keep mothers and children safe.</p>
        <a href="{{ url_for('views.donate') }}" class="btn">Become a Donor</a>
    </div>

    {% if show_total %}
    <div class="card kpi-card" style="max-width: 400px; margin: 0 auto 2rem auto; text-align: center;">
        <h3>Total Raised</h3>
        <p class="kpi-number">₦{{ total_donations }}</p>
    </div>
    {% endif %}

    <div class="table-section card">
        <table>
            <thead>
                <tr>
                    <th>Donor Name</th>
                    <th>Amount</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for donation in donations %}
                <tr>
                    <td>
                        {% if donation.public_name == 'Anonymous' %}
                            <i class="fas fa-user-secret"></i> Anonymous
                        {% else %}
                            <i class="fas fa-user"></i> {{ donation.public_name }}
                        {% endif %}
                    </td>
                    <td>₦{{ donation.amount }}</td>
                    <td>{{ donation.created_at | string | truncate(10, True, '') }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="3" style="text-align:center;">Be the first to appear on our wall!</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}